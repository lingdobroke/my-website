<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>é€²éšç®¡ç†å¾Œå° - å¯§å­¸æœƒäº†å—</title>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 20px; line-height: 1.6; }
        .box { background: #fff; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto 30px; }
        h2 { margin-top: 0; color: #333; border-left: 5px solid #4361ee; padding-left: 10px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        /* ç·¨è¼¯å™¨å·¥å…·åˆ— */
        .toolbar { background: #f8fafc; border: 1px solid #ddd; border-bottom: none; padding: 10px; border-radius: 8px 8px 0 0; display: flex; flex-wrap: wrap; gap: 5px; }
        .toolbar button, .toolbar input[type="color"] { padding: 5px 10px; cursor: pointer; border: 1px solid #ccc; background: #fff; border-radius: 4px; font-size: 13px; }
        .toolbar button:hover { background: #e2e8f0; }
        #editor { border: 1px solid #ddd; min-height: 300px; padding: 15px; border-radius: 0 0 8px 8px; outline: none; background: #fff; overflow-y: auto; }
        
        button.main-btn { background: #4361ee; color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 20px; }
        .post-item { background: #fafafa; padding: 12px; border-radius: 8px; margin-top: 10px; border: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .del-btn { background: #ff4757; color: white; border: none; padding: 5px 15px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

<div class="box">
    <h2>ğŸ¨ ç¶²ç«™åŸºç¤è¨­å®š</h2>
    <div class="grid">
        <div><label>ç¶²ç«™åç¨±</label><input type="text" id="sn"></div>
        <div><label>Logo ç¶²å€</label><input type="text" id="sl"></div>
    </div>
    <div class="grid">
        <div><label>FB é€£çµ</label><input type="text" id="f_fb"></div>
        <div><label>IG é€£çµ</label><input type="text" id="f_ig"></div>
    </div>
    <div class="grid">
        <div><label>YT é€£çµ</label><input type="text" id="f_yt"></div>
        <div><label>Line é€£çµ</label><input type="text" id="f_line"></div>
    </div>
    <button class="main-btn" onclick="saveSettings()">å„²å­˜è¨­å®š</button>
</div>

<div class="box">
    <h2>ğŸš€ ç™¼å¸ƒæ–°æ–‡ç« /å½±ç‰‡</h2>
    <div class="grid">
        <div><label>é¡å‹</label><select id="p-type" onchange="toggleType()">
            <option value="image">åœ–æ–‡</option>
            <option value="video">å½±ç‰‡</option>
        </select></div>
        <div><label>åˆ†é¡æ¨™ç±¤</label><input type="text" id="p-tag" placeholder="ä¾‹å¦‚ï¼šæ•™å­¸"></div>
    </div>
    <div class="grid">
        <div style="grid-column: span 2;"><label>æ¨™é¡Œ</label><input type="text" id="p-title"></div>
    </div>
    <div id="image-fields" class="grid">
        <div><label>å°é¢ç¶²å€</label><input type="text" id="p-img"></div>
        <div><label>è¼ªæ’­å±•ç¤º</label><select id="p-hero"><option value="0">å¦</option><option value="1">æ˜¯</option></select></div>
    </div>
    <div id="video-fields" style="display:none; margin-bottom:15px;">
        <label>å½±ç‰‡ç¶²å€ (YouTube æˆ– MP4)</label>
        <input type="text" id="p-video">
    </div>

    <label>å…§å®¹ç·¨è¼¯</label>
    <div class="toolbar">
        <button onclick="exec('bold')"><b>B (åŠ ç²—)</b></button>
        <button onclick="exec('fontSize', '5')">å¤§æ–‡å­—</button>
        <button onclick="exec('fontSize', '3')">å°æ–‡å­—</button>
        <button onclick="exec('formatBlock', 'h2')">æ¨™é¡Œ</button>
        <button onclick="exec('hiliteColor', 'yellow')">ğŸŸ¨ è¢å…‰</button>
        <button onclick="exec('hiliteColor', '#00ff00')">ğŸŸ© è¢å…‰</button>
        <label style="font-size:12px; margin-left:10px;">æ–‡å­—é¡è‰²:</label>
        <input type="color" onchange="exec('foreColor', this.value)">
        <button onclick="addLink()">ğŸ”— åŠ å…¥é€£çµ</button>
        <button onclick="exec('unlink')">ç§»é™¤é€£çµ</button>
        <button onclick="exec('insertUnorderedList')">â€¢ åˆ—è¡¨</button>
        <button onclick="exec('removeFormat')">ğŸ§¹ æ¸…é™¤æ ¼å¼</button>
    </div>
    <div id="editor" contenteditable="true">åœ¨é€™è£¡è¼¸å…¥å…§å®¹...</div>

    <button class="main-btn" style="background:#10b981;" onclick="addPost()">ç«‹å³ç™¼å¸ƒå…§å®¹</button>
</div>

<div class="box">
    <h2>ğŸ“‹ æ–‡ç« ç®¡ç†æ¸…å–®</h2>
    <div id="admin-post-list"></div>
</div>

<script>
    // ç·¨è¼¯å™¨æŒ‡ä»¤
    function exec(cmd, val = null) { document.execCommand(cmd, false, val); }
    function addLink() {
        const url = prompt("è«‹è¼¸å…¥ç¶²å€:", "https://");
        if(url) exec('createLink', url);
    }

    function toggleType() {
        const t = document.getElementById('p-type').value;
        document.getElementById('image-fields').style.display = t === 'image' ? 'grid' : 'none';
        document.getElementById('video-fields').style.display = t === 'video' ? 'block' : 'none';
    }

    function saveSettings() {
        ['sn','sl','f_fb','f_ig','f_yt','f_line'].forEach(k => localStorage.setItem(k, document.getElementById(k).value));
        alert('è¨­å®šå„²å­˜æˆåŠŸï¼');
    }

    function addPost() {
        const posts = JSON.parse(localStorage.getItem('ps') || '[]');
        const content = document.getElementById('editor').innerHTML;
        posts.unshift({
            type: document.getElementById('p-type').value,
            t: document.getElementById('p-title').value,
            tag: document.getElementById('p-tag').value || 'ä¸€èˆ¬',
            c: content,
            img: document.getElementById('p-img').value || 'https://via.placeholder.com/400x250',
            isHero: document.getElementById('p-hero').value === "1",
            video: document.getElementById('p-video').value
        });
        localStorage.setItem('ps', JSON.stringify(posts));
        alert('ç™¼å¸ƒæˆåŠŸï¼');
        location.reload();
    }

    function renderList() {
        const posts = JSON.parse(localStorage.getItem('ps') || '[]');
        document.getElementById('admin-post-list').innerHTML = posts.map((p, i) => `
            <div class="post-item">
                <span><b>[${p.tag}]</b> ${p.t}</span>
                <button class="del-btn" onclick="delPost(${i})">åˆªé™¤</button>
            </div>
        `).join('');
    }

    function delPost(i) {
        const posts = JSON.parse(localStorage.getItem('ps') || '[]');
        posts.splice(i, 1);
        localStorage.setItem('ps', JSON.stringify(posts));
        renderList();
    }

    window.onload = () => {
        ['sn','sl','f_fb','f_ig','f_yt','f_line'].forEach(k => {
            if(localStorage.getItem(k)) document.getElementById(k).value = localStorage.getItem(k);
        });
        renderList();
    };
</script>
</body>
</html>